<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="little-tiger-2006">
<title>${title!"FE.ZOO"}</title>
<link rel="stylesheet" type="text/css"
	href="/webjars/jquery-ui-themes/1.12.1/smoothness/jquery-ui.min.css">
<script src="/webjars/jquery/3.0.0/jquery.min.js" type="text/javascript"></script>
<script src="/webjars/jquery-ui/1.12.1/jquery-ui.min.js"
	type="text/javascript"></script>
<style type="text/css">
.demoHeaders {
	margin-top: 2em;
}

#icons {
	margin: 0;
	padding: 0;
}

#icons li {
	margin: 2px;
	position: relative;
	padding: 4px 0;
	cursor: pointer;
	float: left;
	list-style: none;
}

#icons span.ui-icon {
	float: left;
	margin: 0 4px;
}

.fakewindowcontain .ui-widget-overlay {
	position: absolute;
}

.row {
	margin-top: 10px;
}

div  img {
	margin-top: 2px;
	width: 500px;
}

.container {
	text-align: center;
	width: 520px;
	border: green solid 1px;
}
</style>
</head>
<body>
	<div class="ui-widget">
		<h2 class="demoHeaders">Elfinder Spring Boot Demo</h2>
		<div class="ui-widget">
			<p>a web image finder based on spring boot + freemarker +
				elfinder + jquery ui</p>
		</div>
	</div>
	<div class="ui-widget">
		<button id="button-icon-refresh">Reload Default Image</button>
		<button id="button-icon-image">Browse...</button>
	</div>

	<div class="row container">
		<img id="image" src="/static/images/picture.jpg" alt="Picture">
	</div>

</body>


<script type="text/javascript">
function imageSelectAction(url){
	$('#image').attr("src", url);
	console.log(url);
}

$(function(){
	$( "#button-icon-refresh" ).button({
		icon: "ui-icon-refresh",
		showLabel: false
	}).click(function(){
		window.location.reload();
	});
	$( "#button-icon-image" ).button({
		icon: "ui-icon-image",
		showLabel: true
	}).click(function(){
		var url = "/elfinder?type=images&start=photo&action=jspopup&func=imageSelectAction";
		var name = "文件管理";
		var width= 1000,height=700;
		var top=parseInt((window.screen.height-height)/2,10),left=parseInt((window.screen.width-width)/2,10);
		var options="location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,"+
			"resizable=yes,scrollbars=yes,"+"width="+width+",height="+height+",top="+top+",left="+left;
		window.open(url ,name , options);		
	});
});
</script>
</html>
